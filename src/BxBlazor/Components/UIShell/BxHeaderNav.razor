<!--
  Copyright IBM Corp. 2016, 2018

  This source code is licensed under the Apache-2.0 license found in the
  LICENSE file in the root directory of this source tree.
-->

<nav class="@prefix--header__nav" aria-label="Platform Name" data-header-nav>
    <ul class="@prefix--header__menu-bar" aria-label="Platform Name">
        @foreach (var navlink in HeaderNavLinks)
        {

            @if (navlink.Uri != null)
            {
                <li>
                    <a class="@prefix--header__menu-item" href="@(navlink.Uri)" tabindex="0">
                        @navlink.Title}}
                    </a>
                </li>
            }
            else
            {
                <li class="@prefix--header__submenu" data-header-submenu>
                    <a class="@prefix--header__menu-item @prefix--header__menu-title" aria-haspopup="true"
                       aria-expanded="@(navlink.Expanded)" href="javascript:void(0)" tabindex="0">
                        @(navlink.Title)
                        <svg class="@prefix--header__menu-arrow" width="12" height="7" aria-hidden="true">
                            <path d="M6.002 5.55L11.27 0l.726.685L6.003 7 0 .685.726 0z" />
                        </svg>
                    </a>
                    <ul class="@prefix--header__menu" aria-label="@(navlink.Title)">
                        @foreach (var item in navlink.ChildItems)
                        {
                            <li role="none">
                                <a class="@prefix--header__menu-item" href="@(item.Uri)" tabindex="-1">
                                    <span class="@prefix--text-truncate--end">
                                        @(item.Title)
                                    </span>
                                </a>
                            </li>
                        }
                    </ul>
                </li>
            }
        }
    </ul>
</nav>
@code {
    public class HeaderNavLink
    {
        public string Title { get; set; }
        public string Uri { get; set; }
        public bool Expanded { get; set; }
        public IEnumerable<HeaderNavLink> ChildItems { get; set; }
    }

    [CascadingParameter]
    public string prefix { get; set; }

    [Parameter]
    public IEnumerable<HeaderNavLink> HeaderNavLinks { get; set; }
}
