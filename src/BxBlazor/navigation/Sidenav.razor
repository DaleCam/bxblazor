<aside class="bx--side-nav bx--side-nav--fixed" aria-label="Side navigation">
    <ul class="bx--side-nav__items">
        @foreach (var item in NavigationItems)
        {
            if (item.HasChilds)
            {

                <li class="bx--side-nav__item bx--side-nav__item--icon">
                    <button aria-haspopup="true" aria-expanded="@(item.Expanded ? "true" : "false")" class="bx--side-nav__submenu" type="button" @onclick="(() => item.Expanded = !item.Expanded)">
                        <div class="bx--side-nav__icon">
                            <svg width="16" height="16"
                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true">
                                <path d="M8.24 25.14L7 26.67a14 14 0 0 0 4.18 2.44l.68-1.88a12 12 0 0 1-3.62-2.09zm-4.05-7.07l-2 .35A13.89 13.89 0 0 0 3.86 23l1.73-1a11.9 11.9 0 0 1-1.4-3.93zm7.63-13.31l-.68-1.88A14 14 0 0 0 7 5.33l1.24 1.53a12 12 0 0 1 3.58-2.1zM5.59 10L3.86 9a13.89 13.89 0 0 0-1.64 4.54l2 .35A11.9 11.9 0 0 1 5.59 10zM16 2v2a12 12 0 0 1 0 24v2a14 14 0 0 0 0-28z">
                                </path>
                            </svg>
                        </div>
                        <span class="bx--side-nav__submenu-title">@item.DisplayText</span>
                        <div class="bx--side-nav__icon bx--side-nav__icon--small bx--side-nav__submenu-chevron">
                            <svg focusable="false" preserveAspectRatio="xMidYMid meet"
                                 xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32"
                                 aria-hidden="true" style="will-change: transform;">
                                <path d="M16 22L6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"></path>
                            </svg>
                        </div>
                    </button>
                    <ul class="bx--side-nav__menu" role="menu">
                        @foreach (var subItem in item.ChildItems)
                        {
                            <li class="bx--side-nav__menu-item" role="none">
                                <a href="javascript:void(0)"
                                   class="bx--side-nav__link" role="menuitem">
                                    <span class="bx--side-nav__link-text">@subItem.DisplayText</span>
                                </a>
                            </li>
                        }
                    </ul>
                </li>
            }
            else
            {
                <li class="bx--side-nav__item">
                    <a href="javascript:void(0)" class="bx--side-nav__link">
                        <div class="bx--side-nav__icon bx--side-nav__icon--small">
                            <svg width="16" height="16"
                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true">
                                <path d="M8.24 25.14L7 26.67a14 14 0 0 0 4.18 2.44l.68-1.88a12 12 0 0 1-3.62-2.09zm-4.05-7.07l-2 .35A13.89 13.89 0 0 0 3.86 23l1.73-1a11.9 11.9 0 0 1-1.4-3.93zm7.63-13.31l-.68-1.88A14 14 0 0 0 7 5.33l1.24 1.53a12 12 0 0 1 3.58-2.1zM5.59 10L3.86 9a13.89 13.89 0 0 0-1.64 4.54l2 .35A11.9 11.9 0 0 1 5.59 10zM16 2v2a12 12 0 0 1 0 24v2a14 14 0 0 0 0-28z">
                                </path>
                            </svg>
                        </div>
                        <span class="bx--side-nav__link-text">@item.DisplayText</span>
                    </a>
                </li>

            }
        }

    </ul>
    <footer class="bx--side-nav__footer">
        <button class="bx--side-nav__toggle" type="button"
                title="Open">
            <div class="bx--side-nav__icon">
                <svg focusable="false" preserveAspectRatio="xMidYMid meet"
                     xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32"
                     aria-hidden="true" style="will-change: transform;">
                    <path d="M22 16L12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path>
                </svg>
            </div>
            <span class="bx--assistive-text">Open</span>
        </button>
    </footer>
</aside>
@code {
    class NavigationItem
    {
        public string display { get; set; }
        public bool expanded { get; set; }
        public string[] subItems { get; set; }
    }

    private SidenavItem[] NavigationItems = new SidenavItem[] {
        new SidenavItem { 
            DisplayText = "permissions", 
            Expanded = false,
            HasChilds = true,
            ChildItems = new SidenavItem[]
            {
                new SidenavItem { DisplayText = "link1" },
                new SidenavItem { DisplayText = "link2" },
                new SidenavItem { DisplayText = "link3" }
            }
        },
        new SidenavItem { 
            DisplayText = "users", 
            Expanded = false,
            HasChilds = true,
            ChildItems = new SidenavItem[]
            {
                new SidenavItem { DisplayText = "link1" },
                new SidenavItem { DisplayText = "link2" },
                new SidenavItem { DisplayText = "link3" }
            }
        },
        new SidenavItem { DisplayText = "roles", Expanded = false,
            ChildItems = new SidenavItem[]
            {
                new SidenavItem { DisplayText = "link1" },
                new SidenavItem { DisplayText = "link2" },
                new SidenavItem { DisplayText = "link3" }
            }
        }
    };
}
